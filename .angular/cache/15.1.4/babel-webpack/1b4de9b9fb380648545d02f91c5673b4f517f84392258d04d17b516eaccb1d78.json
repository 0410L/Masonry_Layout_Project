{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../unsplash.service\";\nimport * as i2 from \"@angular/common\";\nfunction UnsplashComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6);\n    i0.ɵɵtext(2, \"Loading...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction UnsplashComponent_div_5_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵelement(1, \"img\", 10)(2, \"div\", 11);\n    i0.ɵɵelementStart(3, \"div\", 12)(4, \"h5\", 13);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const photo_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", photo_r3.urls.regular, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(photo_r3.alt_description);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(photo_r3.user.username);\n  }\n}\nfunction UnsplashComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, UnsplashComponent_div_5_div_1_Template, 8, 3, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.photos);\n  }\n}\nexport class UnsplashComponent {\n  constructor(unsplashService) {\n    this.unsplashService = unsplashService;\n    this.photos = [];\n    this.page = 1;\n    this.loading = true;\n  }\n  ngOnInit() {\n    this.loadMore();\n    this.loading = false;\n  }\n  onWindowScroll() {\n    if (window.innerHeight + window.scrollY >= document.body.offsetHeight) {\n      this.loadMore();\n    }\n  }\n  loadMore() {\n    this.unsplashService.getPhotos(this.page).subscribe(photos => {\n      this.photos = this.photos.concat(photos);\n      this.page++;\n    });\n  }\n  cargar() {\n    this.loading = true;\n    this.page += 1;\n    this.unsplashService.getPhotos(this.page++).subscribe(_photos => {\n      this.photos = this.photos.concat(_photos);\n      this.loading = false;\n    });\n  }\n}\nUnsplashComponent.ɵfac = function UnsplashComponent_Factory(t) {\n  return new (t || UnsplashComponent)(i0.ɵɵdirectiveInject(i1.UnsplashService));\n};\nUnsplashComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: UnsplashComponent,\n  selectors: [[\"app-unsplash\"]],\n  hostBindings: function UnsplashComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"scroll\", function UnsplashComponent_scroll_HostBindingHandler($event) {\n        return ctx.onWindowScroll($event);\n      }, false, i0.ɵɵresolveWindow);\n    }\n  },\n  decls: 6,\n  vars: 2,\n  consts: [[1, \"container\"], [1, \"masonry2\", \"d-flex\", \"justify-content-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-secondary\", \"d-block\", 2, \"width\", \"100%\", 3, \"click\"], [\"class\", \"text-center\", 4, \"ngIf\"], [\"class\", \"masonry\", 4, \"ngIf\"], [1, \"text-center\"], [1, \"loader\"], [1, \"masonry\"], [\"class\", \"containerfotos\", 4, \"ngFor\", \"ngForOf\"], [1, \"containerfotos\"], [1, \"num\", 3, \"src\"], [\"id\", \"mascara\"], [1, \"text-description\", \"text-white\"], [1, \"fw-bold\"]],\n  template: function UnsplashComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵlistener(\"click\", function UnsplashComponent_Template_div_click_2_listener() {\n        return ctx.cargar();\n      });\n      i0.ɵɵtext(3, \"Cargar nuevas fotos\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(4, UnsplashComponent_div_4_Template, 3, 0, \"div\", 3);\n      i0.ɵɵtemplate(5, UnsplashComponent_div_5_Template, 2, 1, \"div\", 4);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\"*[_ngcontent-%COMP%]{font-family:Rubik,sans-serif;justify-content:center;align-items:center}.margen[_ngcontent-%COMP%]{padding:16px}button[_ngcontent-%COMP%]{font-size:medium}.contenedor[_ngcontent-%COMP%]{display:inline-block;width:100%}.containerfotos[_ngcontent-%COMP%]{border-radius:2%;overflow:hidden}img[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,rgb(6,6,6) 0%,rgba(0,0,0,0) 100%);width:100%;height:auto;object-fit:cover;justify-content:center;display:flex}img[_ngcontent-%COMP%]:hover{filter:saturate(250%)}h5[_ngcontent-%COMP%]{font-size:2vh}.text-description[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,rgb(6,6,6) 0%,rgba(0,0,0,0) 90%);justify-content:baseline;bottom:0vh;left:0vw;width:100%;text-shadow:1px 1px 2px black;padding:10px;position:absolute;font-size:1.5vh}.oculto[_ngcontent-%COMP%]{filter:opacity(.1)}@media (max-width: 1740px){.masonry[_ngcontent-%COMP%]{--masonry-brick-width: 22vw}}@media (max-width: 1264px){.masonry[_ngcontent-%COMP%]{--masonry-brick-width: 22vw}}@media (max-width: 999px){.masonry[_ngcontent-%COMP%]{--masonry-brick-width: 21vw}.text-description[_ngcontent-%COMP%]{bottom:0vh;left:0vw}}@media (max-width: 700px){.masonry[_ngcontent-%COMP%]{--masonry-brick-width: 20vw}.text-description[_ngcontent-%COMP%]{bottom:0vh;left:0vw;font-size:1.2vh}h5[_ngcontent-%COMP%]{font-size:1.5vh}}@media (max-width: 699px){.masonry[_ngcontent-%COMP%]{--masonry-brick-width: 10vw}}@media (max-width: 650px){.masonry[_ngcontent-%COMP%]{--masonry-brick-width: none;column-width:none}.text-description[_ngcontent-%COMP%]{bottom:0vh;left:0vw;font-size:1vh}}@media (max-width: 600px){.masonry[_ngcontent-%COMP%]{--masonry-brick-width: 10vw}h5[_ngcontent-%COMP%]{font-size:1.5vh}}@media (max-width: 516px){.masonry[_ngcontent-%COMP%]{--masonry-brick-width: none;column-width:var(--masonry-brick-width)}h5[_ngcontent-%COMP%]{font-size:1vh}.text-description[_ngcontent-%COMP%]{bottom:0vh;left:0vw}}.masonry[_ngcontent-%COMP%], .masonry2[_ngcontent-%COMP%]{--masonry-gap: 1rem;--masonry-brick-width: 20vw;column-gap:var(--masonry-gap);column-fill:initial;column-width:var(--masonry-brick-width);padding:1rem}.masonry[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{break-inside:avoid;margin-bottom:var(--masonry-gap);position:relative}@supports (grid-template-rows: masonry){.masonry[_ngcontent-%COMP%]{display:grid;gap:var(--masonry-gap);grid-template-rows:masonry;grid-template-columns:repeat(auto-fill,minmax(var(--masonry-brick-width),1fr));align-tracks:stretch}.masonry[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin-bottom:initial}}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}